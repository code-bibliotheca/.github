# 7. 오류 처리

여기저기 흩어진 오류 처리 코드 때문에 실제 코드가 하는 일을 파악하기가 거의 불가능하다는 의미다. 오류 처리 코드로 인해 프로그램 논리를 이해하기 어려워진다면 깨끗한 코드라 부르기 어렵다.

### 오류 코드보다 예외를 사용하라

### try-catch-finally 문부터 작성하라

### 미확인 예외를 사용하라

- `OCP란 뭔가요`
  "Open-Closed Principle"은 소프트웨어 개발 원칙 중 하나입니다. 이 원칙은 소프트웨어 요소(클래스, 모듈, 함수 등)는 확장에는 열려 있어야 하지만, 수정에는 닫혀 있어야 한다는 개념을 나타냅니다.
  즉, 새로운 기능이나 요구사항이 추가되어도 기존의 코드를 변경하지 않고도 기능을 확장할 수 있어야 한다는 것을 의미합니다. 즉, 기존 코드의 수정이 최소화되어 시스템의 안정성과 유지보수성을 향상시킬 수 있습니다.
  Open-Closed Principle을 따르기 위해서는 주로 다음과 같은 방법들이 사용됩니다:
  1. 추상화와 인터페이스를 사용하여 구현을 분리합니다.
  2. 다형성을 활용하여 동일한 인터페이스를 구현한 다양한 클래스를 사용할 수 있도록 합니다.
  3. 확장 가능한 설계를 고려하여 변경 가능한 부분을 분리하고, 이를 확장하기 위한 메커니즘을 제공합니다. 예를 들어, 전략 패턴이나 템플릿 메서드 패턴을 활용할 수 있습니다.
  Open-Closed Principle은 소프트웨어의 유지보수성, 확장성, 재사용성을 높이는 중요한 원칙 중 하나로 알려져 있습니다.

### 예외에 의미를 제공하라

- 오류 메시지에 정보를 담아 예외를 던진다.
- 오류를 분류하는 방법은 수없이 많다. 예를 들어, 오류가 발생한 컴포넌트로 분류한다. 아니면 유형으로도 분류가 가능하다. 예를 들어, 디바이스 실패, 네트워크 실패, 프로그래밍 오류 등으로 분류한다. > 하지만 오류를 정의할 때 프로그래머에게 가장 중요한 관심사는 **오류를 잡아내는 방법**이 되어야 한다.

: 주로 예외에 대응하는 방식에 따라 예외를 나눠왔던 것 같다. 예외의 유형에 따라 나눠본 적이 없어서 관련 설명이 흥미로웠다. 주로 백엔드에서 예외의 유형에 따라 오류 메세지를 던져주면, 예외를 처리 방법에 따라 묶어서 처리를 하다보니 책의 설명과는 차이가 있는 것 같기도 하다.

- 외부 API를 감싸면 외부 라이브러리와 프로그램 사이의 의존성이 크게 줄어든다. 나중에 다른 라이브러리로 갈아타도 비용이 적다.

### 정상 흐름을 정의하라

- 비지니스 논리와 오류 처리가 잘 분리된 코드

### null을 반환/전달하지 마라

: IDE에서 잡아주는 던 것이라 크게 생각하지 않았던 문제인데, 이전에는 문제일 수 있었겠다. null대신 이후 로직과 데이터 형태를 맞춰 null 상황을 반환하는 것은 좋은 방식인 것 같다. (빈객체, 빈배열 등)

# 8. 경계

어떤 식으로든 외부 코드를 우리 코드에 깔끔하게 통합해야한다. 소프트웨어 경계를 깔끔하게 처리하는 기법과 기교를 살펴본다.

### 외부 코드 사용하기

### 경계 살피고 익히기

- 곧바로 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 케이스를 익히면 어떨까?(학습 테스트) 학습 테스트는 프로그램에서 사용하려는 방식대로 외부 API를 호출한다.

### log4j 익히기

### 학습 테스트는 공짜 이상이다

# 9. 단위 테스트

### TDD의 법칙 세가지

- 첫째 법칙 : 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
- 둘째 법칙 : 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
- 셋째 법칙 : 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.

### 깨끗한 테스트 코드 유지하기

테스트 코드가 지저분할 수록 변경하기 어려워진다. 실제 코드를 변경해 기존 테스트 케이스를 실패하기 시작하면, 지저분한 코드로 인해 실패하는 테스트 케이스를 점점 더 통과시키기 어려워진다.

`유연성, 유지보수성, 재사용성`

아키텍쳐가 부실한 코드나 설계가 모호하고 엉망인 코드라도 별다른 우려 없이 변경할 수 있다.

### FIRST : 빠르게, 독립적으로, 반복가능하게, 자가검증하는, 적시에
